---
identityKeycloak:
    postgresql:
        enabled: false
    externalDatabase:
        # see https://artifacthub.io/packages/helm/bitnami/keycloak
        existingSecret: identity-keycloak-secret   # Name of an existing secret resource containing the database credentials
        existingSecretHostKey: host
        existingSecretPortKey: port
        existingSecretUserKey: user
        existingSecretDatabaseKey: database
        existingSecretPasswordKey: password

global:
    elasticsearch:
        enabled: false
    opensearch:
        enabled: true
        aws:
            enabled: true
        auth:
            username: ${OPENSEARCH_MASTER_USER}
            existingSecret: opensearch-secret
            existingSecretKey: password
        url:
            protocol: https
            host: ${OPENSEARCH_HOST}
            # Amazon OpenSearch Service listens on port 443 opposed to the usual port 9200.
            port: 443

    ingress:
        enabled: true
        host: ${DOMAIN_NAME}
        tls:
            enabled: true
            secretName: camunda-c8-tls
        annotations:
            kubernetes.io/tls-acme: 'true'
    identity:
        auth:
            publicIssuerUrl: https://${DOMAIN_NAME}/auth/realms/camunda-platform
            operate:
                redirectUrl: https://${DOMAIN_NAME}/operate
            tasklist:
                redirectUrl: https://${DOMAIN_NAME}/tasklist
            optimize:
                redirectUrl: https://${DOMAIN_NAME}/optimize


elasticsearch:
    enabled: false

identity:
    contextPath: /identity
    fullURL: https://${DOMAIN_NAME}/identity

operate:
    contextPath: /operate

tasklist:
    contextPath: /tasklist

optimize:
    contextPath: /optimize
    migration:
        enabled: false

zeebeGateway:
    ingress:
        grpc:
            enabled: true
            host: zeebe.${DOMAIN_NAME}
            tls:
                enabled: true
                secretName: zeebe-c8-tls-grpc
            annotations:
                kubernetes.io/tls-acme: 'true'
    contextPath: /zeebe
